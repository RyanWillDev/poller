function MainPollCtrl($scope){function pollSelected(event,index){angular.element(event.target).addClass("selected"),$scope.$broadcast("pollSelected",index)}var vm=this;$scope.polls=[],vm.pollSelected=pollSelected}function CreatePollCtrl($scope){function addPoll(){function filterEmpty(opt){return""!==opt.option}var newPoll=Object.assign({},vm.poll);newPoll.options=vm.poll.options.filter(filterEmpty),MainCtrl.polls.push(newPoll),vm.resetPoll()}function resetPoll(){vm.poll.options=[{option:"",votes:0},{option:"",votes:0}],vm.poll.title="",vm.creatingNewPoll=!1}function addPollOption(){vm.optionCount<=10?(vm.poll.options.push({option:"",votes:0}),vm.optionCount++):alert("There is a 10 option limit per poll")}var MainCtrl=$scope,vm=this;vm.optionCount=2,vm.creatingNewPoll=!1,vm.poll={title:"",options:[{option:"",votes:0},{option:"",votes:0}]},vm.addPoll=addPoll,vm.addPollOption=addPollOption,vm.resetPoll=resetPoll}function PollResultsCtrl($scope){function showPollDetails(event,i){var MainCtrl=$scope;vm.selectedPoll=MainCtrl.polls[i]}function addVote(index){vm.selectedPoll.options[index].votes++}var vm=this;vm.test="test",vm.selectedPoll="",vm.addVote=addVote,$scope.$on("pollSelected",showPollDetails)}function createNewPollBtn(){return{scope:{toggleValue:"="},restrict:"E",templateUrl:"templates/createNewPollBtn.html"}}function pollOptionsInput(){return{restrict:"E",templateUrl:"templates/pollOptionsInput.html"}}function addPollOptionsBtn(){return{scope:{clickHandler:"&"},restrict:"E",templateUrl:"templates/addPollOptionsBtn.html"}}function pollsListItem(){return{restrict:"E",templateUrl:"templates/pollsListItem.html"}}function pollResultsDetails(){return{scope:{selectedPoll:"<",clickHandler:"<"},restrict:"E",templateUrl:"templates/pollResultsDetails.html"}}function mostVotes(){return function(arr){if(arr){var filteredArr=arr.reduce(function(prevOpt,nextOpt){return prevOpt.votes>nextOpt.votes?prevOpt:nextOpt});return filteredArr}}}function getValue(){return function(obj,key){if(obj)return obj[key]}}var Poller=angular.module("Poller",["templates-main"]).controller("MainPollCtrl",MainPollCtrl).controller("CreatePollCtrl",CreatePollCtrl).controller("PollResultsCtrl",PollResultsCtrl).directive("createNewPollBtn",createNewPollBtn).directive("pollOptionsInput",pollOptionsInput).directive("addPollOptionsBtn",addPollOptionsBtn).directive("pollsListItem",pollsListItem).directive("pollResultsDetails",pollResultsDetails).filter("mostVotes",mostVotes).filter("getValue",getValue);MainPollCtrl.$inject=["$scope"],CreatePollCtrl.$inject=["$scope"],PollResultsCtrl.$inject=["$scope"],angular.module("templates-main",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("templates/addPollOptionsBtn.html","<button ng-click=clickHandler()>add option</button>"),$templateCache.put("templates/createNewPollBtn.html",'<button ng-click="toggleValue = !toggleValue">Create a new poll</button>'),$templateCache.put("templates/pollOptionsInput.html",'<input placeholder="Add a Poll Option" ng-model="cpc.poll.options[$index].option">'),$templateCache.put("templates/pollResultsDetails.html","<div><span>{{selectedPoll.title}}</span><div ng-repeat=\"option in selectedPoll.options\"><span>{{option.option}}</span> <span>{{option.votes}}</span><button ng-click=clickHandler($index)>Vote</button></div>{{ selectedPoll.options | mostVotes | getValue:'votes' }}</div>"),$templateCache.put("templates/pollsListItem.html","<li><h3>{{poll.title}}</h3></li>")}]);
//# sourceMappingURL=app.min.js.map